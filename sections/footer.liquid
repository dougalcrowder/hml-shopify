{% comment %}
  Footer - Hannah Martin
  Always loads section-footer.css
{% endcomment %}

{{ 'section-footer.css' | asset_url | stylesheet_tag }}

<footer>
  <div class="footer-inner">

    <div class="logo">
      {%- if section.settings.footer_logo != blank -%}
        <img src="{{ section.settings.footer_logo | image_url: width: 410 }}" alt="{{ shop.name }}">
      {%- else -%}
        {{ shop.name }}
      {%- endif -%}
    </div>

    <div class="navitems flex">

      {%- for i in (1..6) -%}
        {%- assign menu_setting = 'footer_menu_' | append: i -%}
        {%- if section.settings[menu_setting] != blank -%}
          <div class="col col{{ i }}">
            <div class="footNav">
              {%- for link in linklists[section.settings[menu_setting]].links -%}
                <a href="{{ link.url }}">{{ link.title }}</a>
              {%- endfor -%}
            </div>
          </div>
        {%- endif -%}
      {%- endfor -%}

    </div>

    {%- if section.settings.show_lyrics -%}
      <div class="lyrics">
        {%- assign all_lyrics = shop.metaobjects.rad_lyrics.values -%}
        {%- if all_lyrics.size > 0 -%}
          {%- assign random_index = 'now' | date: "%s" | modulo: all_lyrics.size -%}
          {%- assign random_lyric = all_lyrics[random_index] -%}
          {{ random_lyric.lyric }}
        {%- else -%}
          {{ section.settings.lyrics_fallback }}
        {%- endif -%}
      </div>
    {%- endif -%}

  </div>

  <div class="copyright">
    <p>&copy; {{ 'now' | date: "%Y" }} {{ shop.name }}</p>
  </div>
</footer>

{% schema %}
  {
    "name": "Footer",
    "settings": [
      {
        "type": "image_picker",
        "id": "footer_logo",
        "label": "Footer logo"
      },
      {
        "type": "link_list",
        "id": "footer_menu_1",
        "label": "Footer menu 1"
      },
      {
        "type": "link_list",
        "id": "footer_menu_2",
        "label": "Footer menu 2"
      },
      {
        "type": "link_list",
        "id": "footer_menu_3",
        "label": "Footer menu 3"
      }, {
        "type": "link_list",
        "id": "footer_menu_4",
        "label": "Footer menu 4"
      }, {
        "type": "link_list",
        "id": "footer_menu_5",
        "label": "Footer menu 5"
      }, {
        "type": "link_list",
        "id": "footer_menu_6",
        "label": "Footer menu 6"
      }, {
        "type": "checkbox",
        "id": "show_lyrics",
        "label": "Show lyrics",
        "default": true
      }, {
        "type": "text",
        "id": "lyrics_fallback",
        "label": "Lyrics fallback text",
        "info": "Shown if no lyrics metaobjects exist"
      }
    ]
  }
{% endschema %}