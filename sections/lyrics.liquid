{% comment %}
  Lyrics Section - Random lyric display
  Always loads section-campaigns.css for drukster styles
{% endcomment %}

<section class="lyrics hiya">
  <div class="lyric">
    {%- assign all_lyrics = shop.metaobjects.rad_lyrics.values -%}
    {%- if all_lyrics and all_lyrics.size > 0 -%}
      {%- assign random_index = 'now' | date: "%s" | modulo: all_lyrics.size -%}

      {% for lyric in all_lyrics %}
        {% if forloop.index0 == random_index %}

          {% if lyric.lyric_line_1 and lyric.lyric_line_1.value != blank %}
            <div class="lyric">
              <strong class="drukster outline lyric_one">
                {{ lyric.lyric_line_1.value }}
              </strong>
            </div>
          {% endif %}

          {% if lyric.lyric_line_2 and lyric.lyric_line_2.value != blank %}
            <div class="lyric">
              <strong class="drukster outline lyric_two">
                {{ lyric.lyric_line_2.value }}
              </strong>
            </div>
          {% endif %}

          {% if lyric.lyric_line_3 and lyric.lyric_line_3.value != blank %}
            <div class="lyric">
              <strong class="drukster outline lyric_three">
                {{ lyric.lyric_line_3.value }}
              </strong>
            </div>
          {% endif %}

          {% break %}
        {% endif %}
      {% endfor %}
    {%- endif -%}
  </div>
</section>

{% schema %}
  {
    "name": "Lyrics",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "fallback_lyric",
        "label": "Fallback lyric",
        "default": "You can call me crazy",
        "info": "Shown if no lyrics metaobjects exist"
      }
    ],
    "presets": [
      {
        "name": "Lyrics"
      }
    ]
  }
{% endschema %}